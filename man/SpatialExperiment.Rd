% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AllClasses.R, R/SpatialExperiment.R
\docType{class}
\name{SpatialExperiment-class}
\alias{SpatialExperiment-class}
\alias{SpatialExperiment}
\title{The SpatialExperiment class}
\arguments{
\item{...}{arguments to be passed to the \code{\link{SingleCellExperiment}} 
constructor to fill the slots of the base class.}

\item{sample_id}{a character of a sample identifier in
conformity with the \code{sample_id} in \code{imgData}
It is automatically detected from the colData, if not present 
it assigns the value present into this paramenter (default is "sample_01").}

\item{spatialData}{the spatial coordinates DataFrame can have multiple columns. 
The coordinates must be named as specified into the \code{spatialCoordsNames} 
argument.}

\item{spatialCoordsNames}{a character vector indicating the names of the 
coordinates into the \code{spatialData} structure. (Default is \code{c("x", "y")})}

\item{scaleFactors}{the scale factors to be associated with the image(s) (optional, default 1).
It can be a number, a file path linking to a JSON file or the values read 
from a 10x Visium scaleFactors JSON file.
In these last two cases (10x Visium scale factors), 
it automatically detects which factor 
has to be loaded, depending on the resolution of the loaded image 
(see \code{imageSources}).}

\item{imgData}{(optional)
a \code{DataFrame} storing the image data (see details).}

\item{imageSources}{(optional)
one or more image sources, they can be local paths or URLs.}

\item{image_id}{(optional)
a character vector of the same length of \code{imageSources} within unique 
\code{image_id}(s).}

\item{loadImage}{a logical indicating if the image has to be loaded in memory 
(default is FALSE).}
}
\value{
a \code{SpatialExperiment} object
}
\description{
The SpatialExperiment class is designed to represent spatial omics data. 
It inherits from the \linkS4class{SingleCellExperiment} class and
is used in the same manner. In addition, the class supports storage of images
for multiple samples and of different resolutions via \code{\link{imgData}}.
}
\details{
The contructor expects the user to provide a \code{sample_id} column into the
\code{colData}, otherwise it assigns the \code{sample_id} parameter value.
If the \code{imgData} argument is not \code{NULL}, it considers it 
already built, otherwise it builds it from the \code{imgSources}, 
combining the \code{image_id} if provided. 
Otherwise it builds the \code{image_id} from the \code{sample_id} and 
the \code{imageSources}.
If multiple samples have to be combined, please refer to 
\code{\link{combine}}.
}
\examples{
dir <- system.file(
  file.path("extdata", "10xVisium", "section1"),
  package = "SpatialExperiment")

# read in counts
fnm <- file.path(dir, "raw_feature_bc_matrix")
sce <- DropletUtils::read10xCounts(fnm)

# read in image data
img <- readImgData(
  path = file.path(dir, "spatial"),
  sample_id="foo")

# read in spatial coordinates
fnm <- file.path(dir, "spatial", "tissue_positions_list.csv")
xyz <- read.csv(fnm, header = FALSE,
  col.names = c(
    "barcode", "in_tissue", "array_row", "array_col",
    "pxl_row_in_fullres", "pxl_col_in_fullres"))
    
# construct observation & feature metadata
rd <- S4Vectors::DataFrame(
  symbol = rowData(sce)$Symbol)
  
# construct 'SpatialExperiment'
(spe <- SpatialExperiment(
    assays = list(counts = assay(sce)),
    colData = colData(sce), rowData = rd, imgData = img,
    spatialData=DataFrame(xyz), 
    spatialCoordsNames=c("pxl_col_in_fullres", "pxl_row_in_fullres"),
    sample_id="foo"))
}
\author{
Dario Righelli & Helena L. Crowell
}
